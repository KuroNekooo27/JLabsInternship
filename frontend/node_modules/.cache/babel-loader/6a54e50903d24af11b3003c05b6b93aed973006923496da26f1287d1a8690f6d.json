{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\ReactJS\\\\JLabsInternship\\\\frontend\\\\src\\\\screens\\\\LoginScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\n\n// Set the base URL for the API\n// const API_URL = 'http://localhost:8000/api/login'; \nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = '';\nconst LoginScreen = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    isAuthenticated,\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // If the user is already authenticated, redirect them to the home screen immediately\n  if (isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/home\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 16\n    }, this);\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(''); // Clear previous errors\n\n    // Basic Client-Side Validation\n    if (!email || !password) {\n      return setError('Please enter both email and password.');\n    }\n    setLoading(true);\n    try {\n      const response = await axios.post(API_URL, {\n        email,\n        password\n      });\n      const token = response.data.token;\n      login(token);\n      navigate('/home', {\n        replace: true\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Login failed due to a server error.';\n      setError(errorMessage);\n      console.error('Login Error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Use Email: `test@example.com` | Password: `password123`\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: styles.form,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        style: styles.input,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        style: styles.input,\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: styles.button,\n        children: loading ? 'Logging In...' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginScreen, \"f8tJmBfQAt4/mC9J74JJqgzmUHU=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = LoginScreen;\nconst styles = {\n  container: {\n    maxWidth: '400px',\n    margin: '50px auto',\n    padding: '20px',\n    border: '1px solid #ccc',\n    borderRadius: '8px'\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '15px'\n  },\n  input: {\n    padding: '10px',\n    borderRadius: '4px',\n    border: '1px solid #ddd'\n  },\n  button: {\n    padding: '10px',\n    borderRadius: '4px',\n    background: '#007bff',\n    color: 'white',\n    border: 'none',\n    cursor: 'pointer'\n  },\n  error: {\n    color: 'red',\n    textAlign: 'center'\n  }\n};\nexport default LoginScreen;\nvar _c;\n$RefreshReg$(_c, \"LoginScreen\");","map":{"version":3,"names":["React","useState","useNavigate","Navigate","axios","useAuth","jsxDEV","_jsxDEV","API_URL","LoginScreen","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","isAuthenticated","login","navigate","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","response","post","token","data","err","_err$response","_err$response$data","errorMessage","msg","console","style","styles","container","children","onSubmit","form","type","placeholder","value","onChange","target","input","disabled","button","_c","maxWidth","margin","padding","border","borderRadius","display","flexDirection","gap","background","color","cursor","textAlign","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/ReactJS/JLabsInternship/frontend/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\n\n// Set the base URL for the API\n// const API_URL = 'http://localhost:8000/api/login'; \nconst API_URL = ''; \n\nconst LoginScreen = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    \n    const { isAuthenticated, login } = useAuth();\n    const navigate = useNavigate();\n\n    // If the user is already authenticated, redirect them to the home screen immediately\n    if (isAuthenticated) {\n        return <Navigate to=\"/home\" replace />;\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError(''); // Clear previous errors\n        \n        // Basic Client-Side Validation\n        if (!email || !password) {\n            return setError('Please enter both email and password.');\n        }\n\n        setLoading(true);\n\n        try {\n            const response = await axios.post(API_URL, { email, password });\n            const token = response.data.token;\n            login(token); \n            navigate('/home', { replace: true });\n        } catch (err) {\n            const errorMessage = err.response?.data?.msg || 'Login failed due to a server error.';\n            setError(errorMessage);\n            console.error('Login Error:', err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div style={styles.container}>\n            <h2>Login</h2>\n            <p>Use Email: `test@example.com` | Password: `password123`</p>\n            <form onSubmit={handleSubmit} style={styles.form}>\n                {error && <p style={styles.error}>{error}</p>}\n                <input \n                    type=\"email\" \n                    placeholder=\"Email\" \n                    value={email} \n                    onChange={(e) => setEmail(e.target.value)}\n                    style={styles.input}\n                    disabled={loading}\n                />\n                <input \n                    type=\"password\" \n                    placeholder=\"Password\" \n                    value={password} \n                    onChange={(e) => setPassword(e.target.value)}\n                    style={styles.input}\n                    disabled={loading}\n                />\n                <button type=\"submit\" disabled={loading} style={styles.button}>\n                    {loading ? 'Logging In...' : 'Login'}\n                </button>\n            </form>\n        </div>\n    );\n};\n\nconst styles = {\n    container: { maxWidth: '400px', margin: '50px auto', padding: '20px', border: '1px solid #ccc', borderRadius: '8px' },\n    form: { display: 'flex', flexDirection: 'column', gap: '15px' },\n    input: { padding: '10px', borderRadius: '4px', border: '1px solid #ddd' },\n    button: { padding: '10px', borderRadius: '4px', background: '#007bff', color: 'white', border: 'none', cursor: 'pointer' },\n    error: { color: 'red', textAlign: 'center' },\n};\n\nexport default LoginScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}